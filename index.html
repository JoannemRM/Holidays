<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Notificador de Festivos y Motivaci칩n</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex flex-col items-center justify-start p-6">
  <h1 class="text-3xl font-bold mb-4 text-blue-700">游꿀 Notificador Activo</h1>
  <div id="listaFestivos" class="bg-white shadow-md rounded-lg p-6 w-full max-w-3xl"></div>

  <script>
    function getFutureDate(daysFromNow) {
      const date = new Date();
      date.setDate(date.getDate() + daysFromNow);
      return date.toISOString().split('T')[0];
    }

    const festivos = [
      // Festivos de prueba
      { pais: "Prueba", nombre: "D칤a de prueba 1", fecha: getFutureDate(0), tipo: "Prueba" },
      { pais: "Prueba", nombre: "D칤a de prueba 2", fecha: getFutureDate(1), tipo: "Prueba" },

      // Espa침a Nacionales
      { pais: "Espa침a", nombre: "A침o Nuevo", fecha: "2025-01-01", tipo: "Nacional" },
      { pais: "Espa침a", nombre: "Epifan칤a del Se침or (D칤a de Reyes)", fecha: "2025-01-06", tipo: "Nacional" },
      { pais: "Espa침a", nombre: "Viernes Santo", fecha: "2025-04-18", tipo: "Nacional" },
      { pais: "Espa침a", nombre: "Fiesta del Trabajo", fecha: "2025-05-01", tipo: "Nacional" },
      { pais: "Espa침a", nombre: "Asunci칩n de la Virgen", fecha: "2025-08-15", tipo: "Nacional" },
      { pais: "Espa침a", nombre: "Fiesta Nacional de Espa침a", fecha: "2025-10-12", tipo: "Nacional" },
      { pais: "Espa침a", nombre: "Todos los Santos", fecha: "2025-11-01", tipo: "Nacional" },
      { pais: "Espa침a", nombre: "D칤a de la Constituci칩n Espa침ola", fecha: "2025-12-06", tipo: "Nacional" },
      { pais: "Espa침a", nombre: "Inmaculada Concepci칩n", fecha: "2025-12-08", tipo: "Nacional" },
      { pais: "Espa침a", nombre: "Navidad", fecha: "2025-12-25", tipo: "Nacional" },

      // Catalu침a
      { pais: "Catalu침a", nombre: "D칤a de Sant Jordi", fecha: "2025-04-23", tipo: "Auton칩mico" },
      { pais: "Catalu침a", nombre: "D칤a de la Merc칟", fecha: "2025-09-24", tipo: "Auton칩mico" },

      // Madrid
      { pais: "Madrid", nombre: "Fiesta de la Comunidad de Madrid", fecha: "2025-05-02", tipo: "Auton칩mico" },
      { pais: "Madrid", nombre: "D칤a de San Isidro", fecha: "2025-05-15", tipo: "Auton칩mico" },

      // Francia
      { pais: "Francia", nombre: "Jour de l'an", fecha: "2025-01-01", tipo: "Nacional" },
      { pais: "Francia", nombre: "Lundi de P칙ques", fecha: "2025-04-21", tipo: "Nacional" },
      { pais: "Francia", nombre: "F칡te du Travail", fecha: "2025-05-01", tipo: "Nacional" },
      { pais: "Francia", nombre: "Victoire 1945", fecha: "2025-05-08", tipo: "Nacional" },
      { pais: "Francia", nombre: "Ascension", fecha: "2025-05-29", tipo: "Nacional" },
      { pais: "Francia", nombre: "Pentec칪te", fecha: "2025-06-09", tipo: "Nacional" },
      { pais: "Francia", nombre: "F칡te Nationale", fecha: "2025-07-14", tipo: "Nacional" },
      { pais: "Francia", nombre: "Assomption", fecha: "2025-08-15", tipo: "Nacional" },
      { pais: "Francia", nombre: "Toussaint", fecha: "2025-11-01", tipo: "Nacional" },
      { pais: "Francia", nombre: "Armistice", fecha: "2025-11-11", tipo: "Nacional" },
      { pais: "Francia", nombre: "No칢l", fecha: "2025-12-25", tipo: "Nacional" },
    ];

    const frasesInspiradoras = [
      "춰Buenos d칤as, guap@! Seguro que hoy es un d칤a espectacular y que nada te detendr치. 춰C칩mate el mundo!",
      "Hoy es un gran d칤a para empezar algo nuevo.",
      "Recuerda lo incre칤ble que eres.",
      "Haz que cada momento cuente.",
      "El 칠xito comienza con una sonrisa.",
      "Cree en ti y en todo lo que eres.",
      "Tu actitud determina tu d칤a.",
      "Hoy tienes una nueva oportunidad.",
      "Respira, sonr칤e, contin칰a.",
      "Las peque침as acciones crean grandes resultados."
    ];

    function showNotification(title, body) {
      if (Notification.permission === "granted") {
        new Notification(title, { body });
      }
    }

    function checkFestivos() {
      const hoy = new Date().toISOString().split('T')[0];
      const manana = new Date(Date.now() + 86400000).toISOString().split('T')[0];
      festivos.forEach(f => {
        if (f.fecha === hoy) {
          showNotification(`Hoy es festivo en ${f.pais}`, `${f.nombre} (${f.tipo})`);
        } else if (f.fecha === manana) {
          showNotification(`Ma침ana es festivo en ${f.pais}`, `${f.nombre} (${f.tipo})`);
        }
      });
    }

    function mensajeDiario() {
      const frase = frasesInspiradoras[Math.floor(Math.random() * frasesInspiradoras.length)];
      showNotification("游눪 Mensaje del d칤a", frase);
    }

    function mensajeSorpresaMiercoles() {
      const hoy = new Date();
      if (hoy.getDay() === 3) { // mi칠rcoles
        const horaAleatoria = Math.floor(Math.random() * (16 - 10 + 1)) + 10;
        const ahora = hoy.getHours();
        if (ahora === horaAleatoria) {
          showNotification("游꾸 Sorpresa", "춰Ya casi es viernes!");
        }
      }
    }

    function mostrarListadoFestivos() {
      const lista = document.getElementById("listaFestivos");
      lista.innerHTML = "<h2 class='text-2xl font-semibold mb-4'>游늰 Lista de Festivos</h2>";
      festivos.sort((a, b) => a.fecha.localeCompare(b.fecha)).forEach(f => {
        lista.innerHTML += `
          <div class="border-b border-gray-200 py-2">
            <p><span class="font-bold">${f.fecha}</span> - ${f.nombre} (${f.tipo}) en <span class="text-blue-600">${f.pais}</span></p>
          </div>
        `;
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      if (Notification.permission !== "granted") {
        Notification.requestPermission();
      }

      mensajeDiario();
      checkFestivos();
      mensajeSorpresaMiercoles();
      mostrarListadoFestivos();
    });
  </script>
</body>
</html>
