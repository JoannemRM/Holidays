<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Notificador de Festivos</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-blue-50 text-gray-800 min-h-screen flex flex-col items-center justify-center p-6">
  <div class="bg-white shadow-lg rounded-2xl p-6 w-full max-w-3xl">
    <h1 class="text-3xl font-bold mb-4 text-center">📅 Notificador de Festivos</h1>
    <div id="mensajeDiario" class="text-xl text-center mb-4 font-semibold text-blue-700"></div>
    <div class="overflow-auto">
      <table class="w-full table-auto border">
        <thead>
          <tr class="bg-blue-200 text-left">
            <th class="p-2">País</th>
            <th class="p-2">Nombre</th>
            <th class="p-2">Fecha</th>
            <th class="p-2">Tipo</th>
          </tr>
        </thead>
        <tbody id="tablaFestivos"></tbody>
      </table>
    </div>
  </div>

  <script>
    const festivos = [
      // Reino Unido
      { pais: "Inglaterra y Gales", nombre: "Good Friday", fecha: "2025-04-18", tipo: "Nacional" },
      { pais: "Inglaterra y Gales", nombre: "Easter Monday", fecha: "2025-04-21", tipo: "Nacional" },
      { pais: "Inglaterra y Gales", nombre: "Early May bank holiday", fecha: "2025-05-05", tipo: "Nacional" },
      { pais: "Inglaterra y Gales", nombre: "Spring bank holiday", fecha: "2025-05-26", tipo: "Nacional" },
      { pais: "Inglaterra y Gales", nombre: "Summer bank holiday", fecha: "2025-08-25", tipo: "Nacional" },
      { pais: "Inglaterra y Gales", nombre: "Christmas Day", fecha: "2025-12-25", tipo: "Nacional" },
      { pais: "Inglaterra y Gales", nombre: "Boxing Day", fecha: "2025-12-26", tipo: "Nacional" },

      { pais: "Escocia", nombre: "Good Friday", fecha: "2025-04-18", tipo: "Nacional" },
      { pais: "Escocia", nombre: "Early May bank holiday", fecha: "2025-05-05", tipo: "Nacional" },
      { pais: "Escocia", nombre: "Spring bank holiday", fecha: "2025-05-26", tipo: "Nacional" },
      { pais: "Escocia", nombre: "Summer bank holiday", fecha: "2025-08-04", tipo: "Nacional" },
      { pais: "Escocia", nombre: "St Andrew’s Day", fecha: "2025-12-01", tipo: "Nacional" },
      { pais: "Escocia", nombre: "Christmas Day", fecha: "2025-12-25", tipo: "Nacional" },
      { pais: "Escocia", nombre: "Boxing Day", fecha: "2025-12-26", tipo: "Nacional" },

      { pais: "Irlanda del Norte", nombre: "Good Friday", fecha: "2025-04-18", tipo: "Nacional" },
      { pais: "Irlanda del Norte", nombre: "Easter Monday", fecha: "2025-04-21", tipo: "Nacional" },
      { pais: "Irlanda del Norte", nombre: "Early May bank holiday", fecha: "2025-05-05", tipo: "Nacional" },
      { pais: "Irlanda del Norte", nombre: "Spring bank holiday", fecha: "2025-05-26", tipo: "Nacional" },
      { pais: "Irlanda del Norte", nombre: "Battle of the Boyne", fecha: "2025-07-14", tipo: "Nacional" },
      { pais: "Irlanda del Norte", nombre: "Summer bank holiday", fecha: "2025-08-25", tipo: "Nacional" },
      { pais: "Irlanda del Norte", nombre: "Christmas Day", fecha: "2025-12-25", tipo: "Nacional" },
      { pais: "Irlanda del Norte", nombre: "Boxing Day", fecha: "2025-12-26", tipo: "Nacional" },

      // España - Nacional
      { pais: "España", nombre: "Año Nuevo", fecha: "2025-01-01", tipo: "Nacional" },
      { pais: "España", nombre: "Día de Reyes", fecha: "2025-01-06", tipo: "Nacional" },
      { pais: "España", nombre: "Viernes Santo", fecha: "2025-04-18", tipo: "Nacional" },
      { pais: "España", nombre: "Fiesta del Trabajo", fecha: "2025-05-01", tipo: "Nacional" },
      { pais: "España", nombre: "Asunción de la Virgen", fecha: "2025-08-15", tipo: "Nacional" },
      { pais: "España", nombre: "Fiesta Nacional de España", fecha: "2025-10-12", tipo: "Nacional" },
      { pais: "España", nombre: "Todos los Santos", fecha: "2025-11-01", tipo: "Nacional" },
      { pais: "España", nombre: "Constitución Española", fecha: "2025-12-06", tipo: "Nacional" },
      { pais: "España", nombre: "Inmaculada Concepción", fecha: "2025-12-08", tipo: "Nacional" },
      { pais: "España", nombre: "Navidad", fecha: "2025-12-25", tipo: "Nacional" },

      // España - Cataluña y Madrid
      { pais: "Cataluña", nombre: "Día de Sant Jordi", fecha: "2025-04-23", tipo: "Autonómico" },
      { pais: "Cataluña", nombre: "Día de la Mercè", fecha: "2025-09-24", tipo: "Autonómico" },
      { pais: "Madrid", nombre: "Comunidad de Madrid", fecha: "2025-05-02", tipo: "Autonómico" },
      { pais: "Madrid", nombre: "San Isidro", fecha: "2025-05-15", tipo: "Autonómico" },

      // Francia
      { pais: "Francia", nombre: "Jour de l'An", fecha: "2025-01-01", tipo: "Nacional" },
      { pais: "Francia", nombre: "Lundi de Pâques", fecha: "2025-04-21", tipo: "Nacional" },
      { pais: "Francia", nombre: "Fête du Travail", fecha: "2025-05-01", tipo: "Nacional" },
      { pais: "Francia", nombre: "Victoire 1945", fecha: "2025-05-08", tipo: "Nacional" },
      { pais: "Francia", nombre: "Ascension", fecha: "2025-05-29", tipo: "Nacional" },
      { pais: "Francia", nombre: "Pentecôte", fecha: "2025-06-09", tipo: "Nacional" },
      { pais: "Francia", nombre: "Fête Nationale", fecha: "2025-07-14", tipo: "Nacional" },
      { pais: "Francia", nombre: "Assomption", fecha: "2025-08-15", tipo: "Nacional" },
      { pais: "Francia", nombre: "Toussaint", fecha: "2025-11-01", tipo: "Nacional" },
      { pais: "Francia", nombre: "Armistice 1918", fecha: "2025-11-11", tipo: "Nacional" },
      { pais: "Francia", nombre: "Noël", fecha: "2025-12-25", tipo: "Nacional" },
    ];

    const frases = [
      "Buenos días guap@! Comete el mundo 🌍",
      "Hoy va a ser un día genial, ¡ya lo verás!",
      "Haz que cada momento cuente.",
      "Sonríe, lo estás haciendo bien.",
      "Confía en ti, ¡puedes con todo!",
      "El éxito comienza con una actitud positiva.",
      "¡Hoy tienes la oportunidad de brillar!",
      "Lo mejor está por venir.",
      "Cree en tu magia ✨",
      "Empieza el día con energía, tú puedes."
    ];

    // Mostrar frases motivadoras
    document.getElementById("mensajeDiario").textContent = frases[Math.floor(Math.random() * frases.length)];

    // Mostrar tabla
    const tbody = document.getElementById("tablaFestivos");
    festivos.forEach(f => {
      const tr = document.createElement("tr");
      tr.className = "border-t";
      tr.innerHTML = `<td class="p-2">${f.pais}</td><td class="p-2">${f.nombre}</td><td class="p-2">${f.fecha}</td><td class="p-2">${f.tipo}</td>`;
      tbody.appendChild(tr);
    });

    // Notificaciones
    function pedirPermiso() {
      if (Notification.permission !== "granted") {
        Notification.requestPermission();
      }
    }

    function programarNotificaciones() {
      const hoy = new Date();
      festivos.forEach(f => {
        const fecha = new Date(f.fecha);
        const notiDate = new Date(fecha);
        notiDate.setDate(notiDate.getDate() - 5);

        if (notiDate.toDateString() === hoy.toDateString()) {
          new Notification(`¡Se acerca un festivo!`, {
            body: `${f.nombre} (${f.pais}) es el ${f.fecha} (${f.tipo})`
          });
        }
      });

      // Mensaje sorpresa de los miércoles
      const dia = hoy.getDay();
      if (dia === 3) {
        const hora = hoy.getHours();
        if (hora >= 10 && hora <= 16 && Math.random() < 0.1) {
          new Notification("🎉 ¡Sorpresa!", {
            body: "¡Ya casi es viernes, estás a nada de un merecido descanso!"
          });
        }
      }
    }

    pedirPermiso();
    setTimeout(programarNotificaciones, 2000);
  </script>
</body>
</html>
