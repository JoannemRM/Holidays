<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Notificador de Festivos y Motivaci√≥n</title>
</head>
<body>
  <h1>Notificador Activo</h1>
  <script>
    const festivos = [
      // Festivos de prueba
      { pais: "Prueba", nombre: "D√≠a de prueba 1", fecha: getFutureDate(2), tipo: "Prueba" },
      { pais: "Prueba", nombre: "D√≠a de prueba 2", fecha: getFutureDate(5), tipo: "Prueba" },

      // Espa√±a Nacionales
      { pais: "Espa√±a", nombre: "A√±o Nuevo", fecha: "2025-01-01", tipo: "Nacional" },
      { pais: "Espa√±a", nombre: "Epifan√≠a del Se√±or (D√≠a de Reyes)", fecha: "2025-01-06", tipo: "Nacional" },
      { pais: "Espa√±a", nombre: "Viernes Santo", fecha: "2025-04-18", tipo: "Nacional" },
      { pais: "Espa√±a", nombre: "Fiesta del Trabajo", fecha: "2025-05-01", tipo: "Nacional" },
      { pais: "Espa√±a", nombre: "Asunci√≥n de la Virgen", fecha: "2025-08-15", tipo: "Nacional" },
      { pais: "Espa√±a", nombre: "Fiesta Nacional de Espa√±a", fecha: "2025-10-12", tipo: "Nacional" },
      { pais: "Espa√±a", nombre: "Todos los Santos", fecha: "2025-11-01", tipo: "Nacional" },
      { pais: "Espa√±a", nombre: "D√≠a de la Constituci√≥n Espa√±ola", fecha: "2025-12-06", tipo: "Nacional" },
      { pais: "Espa√±a", nombre: "Inmaculada Concepci√≥n", fecha: "2025-12-08", tipo: "Nacional" },
      { pais: "Espa√±a", nombre: "Navidad", fecha: "2025-12-25", tipo: "Nacional" },

      // Catalu√±a
      { pais: "Catalu√±a", nombre: "D√≠a de Sant Jordi", fecha: "2025-04-23", tipo: "Auton√≥mico" },
      { pais: "Catalu√±a", nombre: "D√≠a de la Merc√®", fecha: "2025-09-24", tipo: "Auton√≥mico" },

      // Madrid
      { pais: "Madrid", nombre: "Fiesta de la Comunidad de Madrid", fecha: "2025-05-02", tipo: "Auton√≥mico" },
      { pais: "Madrid", nombre: "D√≠a de San Isidro", fecha: "2025-05-15", tipo: "Auton√≥mico" },

      // Francia
      { pais: "Francia", nombre: "Jour de l'an", fecha: "2025-01-01", tipo: "Nacional" },
      { pais: "Francia", nombre: "Lundi de P√¢ques", fecha: "2025-04-21", tipo: "Nacional" },
      { pais: "Francia", nombre: "F√™te du Travail", fecha: "2025-05-01", tipo: "Nacional" },
      { pais: "Francia", nombre: "Victoire 1945", fecha: "2025-05-08", tipo: "Nacional" },
      { pais: "Francia", nombre: "Ascension", fecha: "2025-05-29", tipo: "Nacional" },
      { pais: "Francia", nombre: "Pentec√¥te", fecha: "2025-06-09", tipo: "Nacional" },
      { pais: "Francia", nombre: "F√™te Nationale", fecha: "2025-07-14", tipo: "Nacional" },
      { pais: "Francia", nombre: "Assomption", fecha: "2025-08-15", tipo: "Nacional" },
      { pais: "Francia", nombre: "Toussaint", fecha: "2025-11-01", tipo: "Nacional" },
      { pais: "Francia", nombre: "Armistice", fecha: "2025-11-11", tipo: "Nacional" },
      { pais: "Francia", nombre: "No√´l", fecha: "2025-12-25", tipo: "Nacional" },
    ];

    const frasesInspiradoras = [
      "¬°Buenos d√≠as, guap@! Seguro que hoy es un d√≠a espectacular y que nada te detendr√°. ¬°C√≥mate el mundo!",
      "Hoy es un gran d√≠a para empezar algo nuevo.",
      "Recuerda lo incre√≠ble que eres.",
      "Haz que cada momento cuente.",
      "El √©xito comienza con una sonrisa.",
      "Cree en ti y en todo lo que eres.",
      "Tu actitud determina tu d√≠a.",
      "Hoy tienes una nueva oportunidad.",
      "Respira, sonr√≠e, contin√∫a.",
      "Las peque√±as acciones crean grandes resultados."
    ];

    function getFutureDate(daysFromNow) {
      const date = new Date();
      date.setDate(date.getDate() + daysFromNow);
      return date.toISOString().split('T')[0];
    }

    function checkFestivos() {
      const hoy = new Date().toISOString().split('T')[0];
      const manana = new Date(Date.now() + 86400000).toISOString().split('T')[0];
      festivos.forEach(f => {
        if (f.fecha === manana) {
          showNotification(`Ma√±ana es festivo en ${f.pais}`, `${f.nombre} (${f.tipo})`);
        }
      });
    }

    function mensajeDiario() {
      const frase = frasesInspiradoras[Math.floor(Math.random() * frasesInspiradoras.length)];
      showNotification("üí´ Mensaje del d√≠a", frase);
    }

    function mensajeSorpresaMiercoles() {
      const hoy = new Date();
      if (hoy.getDay() === 3) { // mi√©rcoles
        const horaAleatoria = Math.floor(Math.random() * (16 - 10 + 1)) + 10;
        const ahora = hoy.getHours();
        if (ahora === horaAleatoria) {
          showNotification("üéÅ Sorpresa", "¬°Ya casi es viernes!");
        }
      }
    }

    function showNotification(title, body) {
      if (Notification.permission === "granted") {
        new Notification(title, { body });
      }
    }

    document.addEventListener("DOMContentLoaded", () => {
      if (Notification.permission !== "granted") {
        Notification.requestPermission();
      }

      // Mensaje diario
      mensajeDiario();

      // Revisa si ma√±ana hay festivo
      checkFestivos();

      // Revisa el mensaje sorpresa (mi√©rcoles)
      mensajeSorpresaMiercoles();
    });
  </script>
</body>
</html>
